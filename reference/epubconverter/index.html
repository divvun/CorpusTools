
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://divvun.github.io/CorpusTools/reference/epubconverter/">
      
      
        <link rel="prev" href="../epubchooser/">
      
      
        <link rel="next" href="../error_annotated_converter/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>epubconverter - CorpusTools documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#corpustools.epubconverter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CorpusTools documentation" class="md-header__button md-logo" aria-label="CorpusTools documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CorpusTools documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              epubconverter
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/divvun/CorpusTools" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    divvun/CorpusTools
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  Code reference

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CorpusTools documentation" class="md-nav__button md-logo" aria-label="CorpusTools documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    CorpusTools documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/divvun/CorpusTools" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    divvun/CorpusTools
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howitworks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How it works
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docsdocs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Meta documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../corpus-work/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Corpus work
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Scripts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Scripts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/add_files_to_corpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    add_files_to_corpus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/analyse_corpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    analyse_corpus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/ccat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ccat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/clean_prestable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    clean_prestable
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/clean_prestable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    clean_prestable
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/compile_cwb_mono/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    compile_cwb_mono
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/convert2xml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    convert2xml
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/dupefinder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dupefinder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/duperemover/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    duperemover
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/epubchooser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    epubchooser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/html_cleaner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    html_cleaner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/korp_mono/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    korp_mono
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/make_training_corpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    make_training_corpus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/move_corpus_file/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    move_corpus_file
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/normalise_corpus_names/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    normalise_corpus_names
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/paracheck/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    paracheck
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/parallelize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    parallelize
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/remove_corpus_file/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    remove_corpus_file
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/reparallelize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    reparallelize
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/saami_crawler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    saami_crawler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/pytextcat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    pytextcat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/tmx2html/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tmx2html
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scripts/update_metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    update_metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Code reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    corpustools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    corpustools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Index
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../_version/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _version
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    adder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../analyser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    analyser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../argparse_version/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    argparse_version
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../avvirconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    avvirconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../basicconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    basicconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bibel_no_aligner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bibel_no_aligner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bibel_no_crawler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bibel_no_crawler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../biblexmlconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    biblexmlconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ccat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ccat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ces2homegrown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ces2homegrown
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../check_para_consistency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    check_para_consistency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clean_prestable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    clean_prestable
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../common_arg_ncpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    common_arg_ncpus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compare_tmx_goldstandard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    compare_tmx_goldstandard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compile_cwb_mono/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    compile_cwb_mono
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compile_cwb_para/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    compile_cwb_para
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../convert_using_pandoc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    convert_using_pandoc
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../convert_using_soffice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    convert_using_soffice
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    converter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../convertermanager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    convertermanager
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../corpuspath/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    corpuspath
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../corpusxmlfile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    corpusxmlfile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../counter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    counter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../crawler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    crawler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug_corpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debug_corpus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../decode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    decode
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentfixer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    documentfixer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dropbox_adder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dropbox_adder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dupe_finder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dupe_finder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../epubchooser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    epubchooser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    epubconverter
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    epubconverter
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter" class="md-nav__link">
    <span class="md-ellipsis">
      
        epubconverter
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.chapters" class="md-nav__link">
    <span class="md-ellipsis">
      
        chapters
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.extract_content" class="md-nav__link">
    <span class="md-ellipsis">
      
        extract_content
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.read_chapter" class="md-nav__link">
    <span class="md-ellipsis">
      
        read_chapter
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_first_element" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_first_element
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_range
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_ranges" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_ranges
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_siblings_shorten_path" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_siblings_shorten_path
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_trees_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_trees_1
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_trees_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_trees_2
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.shorten_longest_path" class="md-nav__link">
    <span class="md-ellipsis">
      
        shorten_longest_path
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.to_html_elt" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_html_elt
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error_annotated_converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    error_annotated_converter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error_annotated_sentence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    error_annotated_sentence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    error_types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../finder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    finder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../generate_anchor_list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    generate_anchor_list
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../html_cleaner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    html_cleaner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../htmlcontentconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    htmlcontentconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../htmlconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    htmlconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iso_ir_197/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    iso_ir_197
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iso_ir_209/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    iso_ir_209
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../korp_config_templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    korp_config_templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../korp_mono/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    korp_mono
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../korp_para/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    korp_para
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../languagedetector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    languagedetector
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../macsami/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    macsami
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mari/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    mari
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    modes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../move_files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    move_files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../namechanger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    namechanger
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../normalise_filenames/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    normalise_filenames
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nrk_no_crawler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    nrk_no_crawler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nrk_no_page/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    nrk_no_page
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ocrconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ocrconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../one-off-functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    one-off-functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../orthographies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    orthographies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packagetmx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    packagetmx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parallelize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    parallelize
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pdfconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    pdfconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pick_samediggi_se_docs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    pick_samediggi_se_docs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pick_titles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    pick_titles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plaintextconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    plaintextconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../realign/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    realign
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../saami_crawler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    saami_crawler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../samas_crawler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    samas_crawler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../samediggi_fi_crawler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    samediggi_fi_crawler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../samediggi_no_crawler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    samediggi_no_crawler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../samediggi_no_links/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    samediggi_no_links
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../samediggi_no_page/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    samediggi_no_page
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sentencedivider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sentencedivider
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../svgconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    svgconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_74" >
        
          
          <label class="md-nav__link" for="__nav_2_1_74" id="__nav_2_1_74_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    test
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_74_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_74">
            <span class="md-nav__icon md-icon"></span>
            
  
    test
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Index
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_adder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_adder
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_analyser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_analyser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_avvirconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_avvirconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_biblexmlconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_biblexmlconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_ccat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_ccat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_compare_tmx_goldstandard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_compare_tmx_goldstandard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_converter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_corpuspath/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_corpuspath
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_corpusxmlfile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_corpusxmlfile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_decode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_decode
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_docconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_docconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_documentfixer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_documentfixer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_docxconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_docxconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_epubchooser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_epubchooser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_epubconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_epubconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_error_annotated_sentence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_error_annotated_sentence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_error_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_error_types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_htmlcontentconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_htmlcontentconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_htmlconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_htmlconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_lang_guessing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_lang_guessing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_languagedetector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_languagedetector
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_namechanger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_namechanger
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_parallelize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_parallelize
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_pdfconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_pdfconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_plaintextconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_plaintextconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_rtfconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_rtfconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_samediggi_no_crawler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_samediggi_no_crawler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_sentencedivider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_sentencedivider
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_svgconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_svgconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_text_cat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_text_cat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_trainingcorpusmaker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_trainingcorpusmaker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_typosfile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_typosfile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_util/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_util
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_xhtml2corpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_xhtml2corpus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_xslmaker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_xslmaker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/test_xslsetter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_xslsetter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/xmltester/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xmltester
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../text_cat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    text_cat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tmx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tmx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tmx_cat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tmx_cat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tmx_switch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tmx_switch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trainingcorpusmaker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    trainingcorpusmaker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../typosfile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    typosfile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../update_metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    update_metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usxconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    usxconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../util/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    util
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../versioncontrol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    versioncontrol
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../winsami2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    winsami2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../xmlconverter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xmlconverter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../xslmaker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xslmaker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../xslsetter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xslsetter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter" class="md-nav__link">
    <span class="md-ellipsis">
      
        epubconverter
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.chapters" class="md-nav__link">
    <span class="md-ellipsis">
      
        chapters
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.extract_content" class="md-nav__link">
    <span class="md-ellipsis">
      
        extract_content
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.read_chapter" class="md-nav__link">
    <span class="md-ellipsis">
      
        read_chapter
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_first_element" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_first_element
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_range" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_range
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_ranges" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_ranges
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_siblings_shorten_path" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_siblings_shorten_path
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_trees_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_trees_1
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.remove_trees_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_trees_2
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.shorten_longest_path" class="md-nav__link">
    <span class="md-ellipsis">
      
        shorten_longest_path
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corpustools.epubconverter.to_html_elt" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_html_elt
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>epubconverter</h1>

<div class="doc doc-object doc-module">



<a id="corpustools.epubconverter"></a>
    <div class="doc doc-contents first">

        <p>Convert epub documents to the Giella xml format.</p>
<p>Epub files are zip files that contain text in xhtml files. This class reads
all xhtml files found in this archive. The body element of these files are
converted to div elements, and appended inside a new body element.</p>
<p>It is possible to filter away ranges of elements from this new xhtml file.
These ranges consist pairs of xpath paths, specified inside the metadata
file that belongs to this epub file.</p>










<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.chapters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">chapters</span><span class="p">(</span><span class="n">book</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Get the all linear chapters of the epub book.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>book</code>
            </td>
            <td>
                  <code><span title="epub.Book">Book</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The epub book element</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The body of an xhtml file found in the epub file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">chapters</span><span class="p">(</span><span class="n">book</span><span class="p">:</span> <span class="n">Book</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">MetadataHandler</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">etree</span><span class="o">.</span><span class="n">_Element</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the all linear chapters of the epub book.</span>

<span class="sd">    Args:</span>
<span class="sd">        book: The epub book element</span>

<span class="sd">    Yields:</span>
<span class="sd">        The body of an xhtml file found in the epub file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">excluded</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">epub_excluded_chapters</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">chapter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">book</span><span class="o">.</span><span class="n">chapters</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">index</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excluded</span><span class="p">:</span>
            <span class="n">chapterbody</span> <span class="o">=</span> <span class="n">read_chapter</span><span class="p">(</span><span class="n">chapter</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
                <span class="s2">&quot;{http://www.w3.org/1999/xhtml}body&quot;</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">chapterbody</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">chapterbody</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="s2">&quot;{http://www.w3.org/1999/xhtml}div&quot;</span>
                <span class="k">yield</span> <span class="n">chapterbody</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.extract_content" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extract_content</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Extract content from the epub file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to the document</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The content of the epub file wrapped in html element</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">extract_content</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">MetadataHandler</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">etree</span><span class="o">.</span><span class="n">_Element</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract content from the epub file.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename: path to the document</span>

<span class="sd">    Returns:</span>
<span class="sd">        The content of the epub file wrapped in html element</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mainbody</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s2">&quot;{http://www.w3.org/1999/xhtml}body&quot;</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s2">&quot;{http://www.w3.org/1999/xhtml}html&quot;</span><span class="p">)</span>
    <span class="n">html</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s2">&quot;{http://www.w3.org/1999/xhtml}head&quot;</span><span class="p">))</span>
    <span class="n">html</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mainbody</span><span class="p">)</span>

    <span class="n">book</span> <span class="o">=</span> <span class="n">Book</span><span class="p">(</span><span class="n">open_epub</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">chapterbody</span> <span class="ow">in</span> <span class="n">chapters</span><span class="p">(</span><span class="n">book</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="n">mainbody</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chapterbody</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">html</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.read_chapter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_chapter</span><span class="p">(</span><span class="n">chapter</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Read the contents of a epub_file chapter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>chapter</code>
            </td>
            <td>
                  <code><span title="epub.BookChapter">BookChapter</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the chapter of an epub file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The contents of a chapter</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="corpustools.util.ConversionException">ConversionException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>on conversion error</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">read_chapter</span><span class="p">(</span><span class="n">chapter</span><span class="p">:</span> <span class="n">BookChapter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">etree</span><span class="o">.</span><span class="n">_Element</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Read the contents of a epub_file chapter.</span>

<span class="sd">    Args:</span>
<span class="sd">        chapter: the chapter of an epub file</span>

<span class="sd">    Returns:</span>
<span class="sd">        The contents of a chapter</span>

<span class="sd">    Raises:</span>
<span class="sd">        util.ConversionException: on conversion error</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">etree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">chapter</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ConversionError</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">error</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.remove_first_element" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_first_element</span><span class="p">(</span><span class="n">path1</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Remove the first element in the range.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path1</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to the first element to remove.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>content</code>
            </td>
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the xhtml document that should be altered.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_first_element</span><span class="p">(</span><span class="n">path1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">etree</span><span class="o">.</span><span class="n">_Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove the first element in the range.</span>

<span class="sd">    Args:</span>
<span class="sd">        path1: path to the first element to remove.</span>
<span class="sd">        content: the xhtml document that should be altered.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">first_start</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
        <span class="n">path1</span><span class="p">,</span> <span class="n">namespaces</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;html&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">first_start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">first_start</span><span class="o">.</span><span class="n">getparent</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parent</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">first_start</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.remove_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_range</span><span class="p">(</span><span class="n">path1</span><span class="p">,</span> <span class="n">path2</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Remove a range of elements from an xhtml document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path1</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to first element</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path2</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to second element</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>content</code>
            </td>
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>xhtml document</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_range</span><span class="p">(</span><span class="n">path1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path2</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">etree</span><span class="o">.</span><span class="n">_Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove a range of elements from an xhtml document.</span>

<span class="sd">    Args:</span>
<span class="sd">        path1: path to first element</span>
<span class="sd">        path2: path to second element</span>
<span class="sd">        content: xhtml document</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">path2</span><span class="p">:</span>
        <span class="n">starts</span><span class="p">,</span> <span class="n">ends</span> <span class="o">=</span> <span class="n">remove_trees_1</span><span class="p">(</span><span class="n">path1</span><span class="p">,</span> <span class="n">path2</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
        <span class="n">remove_trees_2</span><span class="p">(</span><span class="n">starts</span><span class="p">,</span> <span class="n">ends</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
        <span class="n">remove_first_element</span><span class="p">(</span><span class="n">path1</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">found</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">path1</span><span class="p">,</span> <span class="n">namespaces</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;html&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">found</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parent</span> <span class="o">=</span> <span class="n">found</span><span class="o">.</span><span class="n">getparent</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">parent</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">found</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.remove_ranges" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_ranges</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Remove ranges of html elements.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_ranges</span><span class="p">(</span><span class="n">metadata</span><span class="p">:</span> <span class="n">MetadataHandler</span><span class="p">,</span> <span class="n">html</span><span class="p">:</span> <span class="n">etree</span><span class="o">.</span><span class="n">_Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove ranges of html elements.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">metadata</span><span class="o">.</span><span class="n">skip_elements</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">pairs</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">skip_elements</span><span class="p">:</span>
            <span class="n">remove_range</span><span class="p">(</span><span class="n">pairs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pairs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">html</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.remove_siblings_shorten_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_siblings_shorten_path</span><span class="p">(</span><span class="n">parts</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">preceding</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Remove all siblings before or after an element.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>parts</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a xpath path split on /</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>content</code>
            </td>
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an xhtml document</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>preceding</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When True, iterate through the preceding siblings
of the found element, otherwise iterate throughe the following
siblings.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the parent of parts.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_siblings_shorten_path</span><span class="p">(</span>
    <span class="n">parts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">content</span><span class="p">:</span> <span class="n">etree</span><span class="o">.</span><span class="n">_Element</span><span class="p">,</span> <span class="n">preceding</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove all siblings before or after an element.</span>

<span class="sd">    Args:</span>
<span class="sd">        parts: a xpath path split on /</span>
<span class="sd">        content: an xhtml document</span>
<span class="sd">        preceding: When True, iterate through the preceding siblings</span>
<span class="sd">            of the found element, otherwise iterate throughe the following</span>
<span class="sd">            siblings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The path to the parent of parts.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>
    <span class="n">found</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">namespaces</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;html&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">found</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">found</span><span class="o">.</span><span class="n">getparent</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">sibling</span> <span class="ow">in</span> <span class="n">found</span><span class="o">.</span><span class="n">itersiblings</span><span class="p">(</span><span class="n">preceding</span><span class="o">=</span><span class="n">preceding</span><span class="p">):</span>
                <span class="n">parent</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">sibling</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">parts</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.remove_trees_1" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_trees_1</span><span class="p">(</span><span class="n">path1</span><span class="p">,</span> <span class="n">path2</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Remove tree nodes that do not have the same parents.</p>
<p>While the parents in starts and ends are unequal (that means that
starts and ends belong in different trees), remove elements
following starts and preceding ends. Shorten the path to the parents
of starts and ends and remove more elements if needed. starts and
ends are of equal length.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path1</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to first element</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path2</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to second element</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>content</code>
            </td>
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>xhtml document, where elements are removed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="list">list</span>[<span title="str">str</span>], <span title="list">list</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Paths to the new start and end element.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_trees_1</span><span class="p">(</span>
    <span class="n">path1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path2</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">etree</span><span class="o">.</span><span class="n">_Element</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove tree nodes that do not have the same parents.</span>

<span class="sd">    While the parents in starts and ends are unequal (that means that</span>
<span class="sd">    starts and ends belong in different trees), remove elements</span>
<span class="sd">    following starts and preceding ends. Shorten the path to the parents</span>
<span class="sd">    of starts and ends and remove more elements if needed. starts and</span>
<span class="sd">    ends are of equal length.</span>

<span class="sd">    Args:</span>
<span class="sd">        path1: path to first element</span>
<span class="sd">        path2: path to second element</span>
<span class="sd">        content: xhtml document, where elements are removed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Paths to the new start and end element.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">starts</span><span class="p">,</span> <span class="n">ends</span> <span class="o">=</span> <span class="n">shorten_longest_path</span><span class="p">(</span><span class="n">path1</span><span class="p">,</span> <span class="n">path2</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>

    <span class="k">while</span> <span class="n">starts</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">ends</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">starts</span> <span class="o">=</span> <span class="n">remove_siblings_shorten_path</span><span class="p">(</span><span class="n">starts</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
        <span class="n">ends</span> <span class="o">=</span> <span class="n">remove_siblings_shorten_path</span><span class="p">(</span><span class="n">ends</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">preceding</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">starts</span><span class="p">,</span> <span class="n">ends</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.remove_trees_2" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_trees_2</span><span class="p">(</span><span class="n">starts</span><span class="p">,</span> <span class="n">ends</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Remove tree nodes that have the same parents.</p>
<p>Now that the parents of starts and ends are equal, remove the last
trees of nodes between starts and ends (if necessary).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>starts</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to first element</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ends</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to second element</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>content</code>
            </td>
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>xhtml document, where elements are removed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_trees_2</span><span class="p">(</span><span class="n">starts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">ends</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">content</span><span class="p">:</span> <span class="n">etree</span><span class="o">.</span><span class="n">_Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove tree nodes that have the same parents.</span>

<span class="sd">    Now that the parents of starts and ends are equal, remove the last</span>
<span class="sd">    trees of nodes between starts and ends (if necessary).</span>

<span class="sd">    Args:</span>
<span class="sd">        starts: path to first element</span>
<span class="sd">        ends: path to second element</span>
<span class="sd">        content: xhtml document, where elements are removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">deepest_start</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
        <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">starts</span><span class="p">),</span> <span class="n">namespaces</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;html&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="n">deepest_end</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
        <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ends</span><span class="p">),</span> <span class="n">namespaces</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;html&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">deepest_start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">deepest_start</span><span class="o">.</span><span class="n">getparent</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">sibling</span> <span class="ow">in</span> <span class="n">deepest_start</span><span class="o">.</span><span class="n">itersiblings</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">sibling</span> <span class="o">==</span> <span class="n">deepest_end</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">elif</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">parent</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">sibling</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.shorten_longest_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">shorten_longest_path</span><span class="p">(</span><span class="n">path1</span><span class="p">,</span> <span class="n">path2</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Remove elements from the longest path.</p>
<p>If starts is longer than ends, remove the siblings following starts,
shorten starts with one step (going to the parent). If starts still is
longer than ends, remove the siblings following the parent. This is
done untill starts and ends are of equal length.</p>
<p>If on the other hand ends is longer than starts, remove the siblings
preceding ends, then shorten ends (going to its parent).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path1</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to first element</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path2</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to second element</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>content</code>
            </td>
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>xhtml document, where elements are removed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="list">list</span>[<span title="str">str</span>], <span title="list">list</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Paths to the new start and end element, now with the same length.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">shorten_longest_path</span><span class="p">(</span>
    <span class="n">path1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path2</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">etree</span><span class="o">.</span><span class="n">_Element</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove elements from the longest path.</span>

<span class="sd">    If starts is longer than ends, remove the siblings following starts,</span>
<span class="sd">    shorten starts with one step (going to the parent). If starts still is</span>
<span class="sd">    longer than ends, remove the siblings following the parent. This is</span>
<span class="sd">    done untill starts and ends are of equal length.</span>

<span class="sd">    If on the other hand ends is longer than starts, remove the siblings</span>
<span class="sd">    preceding ends, then shorten ends (going to its parent).</span>

<span class="sd">    Args:</span>
<span class="sd">        path1: path to first element</span>
<span class="sd">        path2: path to second element</span>
<span class="sd">        content: xhtml document, where elements are removed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Paths to the new start and end element, now with the same length.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">starts</span><span class="p">,</span> <span class="n">ends</span> <span class="o">=</span> <span class="n">path1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">),</span> <span class="n">path2</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">starts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">ends</span><span class="p">):</span>
        <span class="n">starts</span> <span class="o">=</span> <span class="n">remove_siblings_shorten_path</span><span class="p">(</span><span class="n">starts</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>

    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">ends</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">starts</span><span class="p">):</span>
        <span class="n">ends</span> <span class="o">=</span> <span class="n">remove_siblings_shorten_path</span><span class="p">(</span><span class="n">ends</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">preceding</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">starts</span><span class="p">,</span> <span class="n">ends</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="corpustools.epubconverter.to_html_elt" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_html_elt</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Append all chapter bodies as divs to an html file.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An etree.Element containing the content of all xhtml files found in</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="lxml.etree._Element">_Element</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the epub file as one xhtml document.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>corpustools/epubconverter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_html_elt</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">etree</span><span class="o">.</span><span class="n">_Element</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Append all chapter bodies as divs to an html file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An etree.Element containing the content of all xhtml files found in</span>
<span class="sd">        the epub file as one xhtml document.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="n">filename</span><span class="o">.</span><span class="n">suffix</span> <span class="o">+</span> <span class="s2">&quot;.xsl&quot;</span><span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">MetadataHandler</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">create</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">extract_content</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">remove_ranges</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ConversionError</span><span class="p">(</span>
            <span class="s2">&quot;Check that skip_elements in the metadata file has the correct format&quot;</span>
        <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">error</span>

    <span class="k">return</span> <span class="n">html</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>